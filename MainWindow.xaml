<Window
    x:Class="CurveAnalyzer.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:CurveAnalyzer"
    xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="Кривая ОФЗ по дням"
    Width="800"
    Height="450"
    mc:Ignorable="d">

    <Grid Margin="5">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <StackPanel Grid.Row="0" Orientation="Horizontal">
            <StackPanel.Resources>
                <Style TargetType="{x:Type Button}">
                    <Setter Property="Margin" Value="5" />
                    <Setter Property="Padding" Value="5" />
                </Style>
            </StackPanel.Resources>
            <Button
                x:Name="GetDataButton"
                Click="GetData_Click"
                Content="Получить данные" />
            <StackPanel
                VerticalAlignment="Center"
                Background="AliceBlue"
                Orientation="Horizontal" Width="100" Height="Auto">
                <!--<Button
                    Content="3"
                    FontFamily="Marlett"
                    FontSize="20" />-->
                <ToggleButton
                    x:Name="ToggleButton"
                    Margin="5"
                    Padding="5"
                    Content="{Binding SelectedDate, ElementName=CalendarControl, FallbackValue='99.99.9999'}" />
                <Popup IsOpen="{Binding ElementName=ToggleButton, Path=IsChecked}" StaysOpen="False">
                    <Calendar
                        x:Name="CalendarControl"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        SelectedDatesChanged="CalendarControl_SelectedDatesChanged" />
                </Popup>
                <!--<Button
                    Content="4"
                    FontFamily="Marlett"
                    FontSize="20" />-->
            </StackPanel>
            <Button Content="Очистить" Click="ClearButton_Click"/>
            <CheckBox
                Margin="10,0,0,0"
                VerticalAlignment="Center"
                Click="CheckBox_Click"
                Content="Обновление" />
        </StackPanel>
        <lvc:CartesianChart
            x:Name="MainChart"
            Grid.Row="1"
            DataClick="MainChart_DataClick"
            Series="{Binding SeriesCollection}">
            <lvc:CartesianChart.AxisX>
                <lvc:Axis LabelFormatter="{Binding XFormatter}" Labels="{Binding LabelsX}" />
            </lvc:CartesianChart.AxisX>
        </lvc:CartesianChart>
        <Popup x:Name="MyPopsup" Placement="MousePoint">
            <Button Content="wewdwaw" />
        </Popup>
    </Grid>
</Window>